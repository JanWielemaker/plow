%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Mixed AS/normal

test :-
    abolish_all_tables,
    setof(Y, p(1,Y), Ys),
    writeln(Ys).
%   assertion(Ys == [1,2,3,4,5]).

:- table p/2, pas(_,lattice(join(_X,_Y,_Z))).

p(X, Y) :-
    pas(X, Y).
p(_, 1).

pas(X, Z) :-
    p(X, Y),
    Y < 5,
    Z is Y+1.

join(A,B,C):-
     (   A > B
     ->  C = A
     ;   C = B
     ).
